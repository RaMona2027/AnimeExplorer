/* ============================================================
   GLOBAL / SHARED STYLES
   Base fonts, layout, buttons, inputs, grid behavior
   ------------------------------------------------------------
   This section sets the global box model, fonts and page background
   and defines shared components like the main title and back buttons.
   These rules affect both the search page and the watchlist page.
   ============================================================ */

*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Custom manga title font loaded from your fonts folder.
   Used for the main site title to give it a manga-style look. */
@font-face {
  font-family: "MangaFont";
  src: url("fonts/manga.otf") format("opentype");
}

/* Base page layout: removes default margin, adds padding
   and sets the global font, text color and fixed manga background. */
body {
  margin: 0;
  padding: 40px 20px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: #ffffff;

  background-image: url("../bild1.jpg");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

/* Legacy back button style with full visual treatment.
   Keep this if some pages still use .back-to-main instead of .back-btn + .btn-red. */
.back-to-main {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;

  background: rgba(0, 0, 0, 0.8);
  border: 2px solid #ff1b1b;
  color: #ff1b1b;
  padding: 10px 16px;
  border-radius: 6px;
  font-weight: 600;
  text-decoration: none;
  font-family: system-ui, sans-serif;

  transition: 0.2s ease-in-out;
}

.back-to-main:hover {
  background: #ff1b1b;
  color: black;
}

/* Back button positioning used together with .btn-red.
   This keeps the visual style reusable while fixing the button in the corner. */
.back-btn {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
}

/* Main site title in manga style.
   Uses the custom font and oversized, red text centered near the top. */
h1 {
  font-family: "MangaFont", system-ui, sans-serif;
  font-size: 100px;
  color: #ff1b1b;
  text-align: center;
  margin-top: -10px;
  margin-bottom: 20px;
}

/* Comic-style main action link.
   Looks like a button with a thick border and offset shadow for a manga feel. */
.watchlist-link {
  display: inline-block;
  text-decoration: none;
  background: rgba(255, 255, 255, 0.7);
  color: #ff1b1b;
  padding: 10px 18px;
  border: 3px solid #000;
  border-radius: 4px;
  font-weight: 700;
  font-size: 14px;
  font-family: system-ui, sans-serif;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.85);
  text-transform: uppercase;
  letter-spacing: 1px;
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    background 0.15s ease,
    color 0.15s ease;
}

.watchlist-link:hover {
  background: #ff1b1b;
  color: #000;
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 #ff1b1b;
}

.watchlist-link:active {
  transform: translate(0, 0);
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.8);
}

/* Shared red comic-style button used across the app.
   Gives all main actions a consistent manga look with bold borders and a drop shadow. */
.btn-red {
  display: inline-block;
  padding: 12px 22px;
  background: rgba(255, 255, 255, 0.75);
  border: 3px solid black;
  border-radius: 8px;
  color: red;
  font-weight: 500;
  font-size: 14px;
  text-transform: uppercase;
  text-decoration: none;
  letter-spacing: 1px;
  font-family: futura, system-ui, sans-serif;
  box-shadow: 4px 4px 0 black;
  transition: transform 0.1s ease-in-out;
}

.btn-red:hover {
  transform: translateY(-2px);
  color: black;
  background: red;
  box-shadow: 6px 6px 0 red;
}

/* ============================================================
   SEARCH PAGE STYLES
   Search bar, filters, responsive results grid, cards, titles
   ------------------------------------------------------------
   These styles control the search experience: center hero layout,
   animated tagline, search input, filters, and anime result cards.
   ============================================================ */

/* Centers the hero content (tagline, search bar, filters) on the page.
   Stacks items vertically and aligns them in the middle. */
.hero-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

/* Tagline under the main title with a subtle pulsing effect.
   Uses text-shadow and a scale animation to draw attention. */
.tagline {
  font-size: 22px;
  font-weight: 700;
  color: red;
  background: rgba(0, 0, 0, 0);
  padding: 150px 14px;
  border-radius: 6px;
  text-shadow: 0 0 20px rgba(255, 27, 27, 0.7);
  animation: taglinePulse 2.4s ease-in-out infinite;
}

/* Pulse animation for the tagline.
   Gently scales text and changes glow strength over time. */
@keyframes taglinePulse {
  0% {
    transform: scale(1);
    text-shadow: 0 0 6px rgba(255, 27, 27, 0.4);
  }
  50% {
    transform: scale(1.1);
    text-shadow: 0 0 14px rgba(255, 27, 27, 1);
  }
  100% {
    transform: scale(1);
    text-shadow: 0 0 6px rgba(255, 27, 27, 0.4);
  }
}

/* Search bar wrapper that holds the input and button.
   Gives a comic-style card with border, padding and drop shadow. */
.search-container {
  position: relative;
  background-color: rgba(255, 255, 255, 0.9);
  padding: 18px 22px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: 3px solid #000;
  border-radius: 6px;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.85);
  margin-top: -120px;
}

/* Text input for search queries.
   Uses clear borders and a light box-shadow to stand out on the card. */
#searchInput {
  padding: 10px;
  width: 260px;
  font-size: 16px;
  border: 2px solid #000;
  border-radius: 4px;
  background: #fff;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);
  color: #111;
}

/* Focus state for the search input.
   Highlights the field in red and slightly nudges it for a responsive feel. */
#searchInput:focus {
  outline: none;
  border-color: #ff1b1b;
  box-shadow: 3px 3px 0 #ff1b1b;
  transform: translate(-1px, -1px);
}

/* Search button next to the input.
   Designed as a dark button that turns red on hover with a comic shadow. */
#searchButton {
  padding: 10px 18px;
  font-size: 16px;
  font-weight: 600;
  border: 2px solid #000;
  border-radius: 4px;
  background: #000;
  color: #ffeded;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.8);
}

#searchButton:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 #ff1b1b;
  background: #ff1b1b;
  color: #000;
}

/* Wrapper for the filters section below the search bar.
   Stacks the label and the row of dropdowns and keeps them centered. */
.filters-wrapper {
  margin-top: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Small uppercase label above the filter dropdowns.
   Helps explain what the user is choosing without taking much space. */
.filters-label {
  font-size: 15px;
  font-weight: 800;
  color: black;
  background: white;
  border: 2px solid #000;
  padding: 10px 12px;
  letter-spacing: 2px;
  text-transform: uppercase;
  box-shadow: 3px 3px 0 rgba(255, 0, 0, 0.8);
  margin-bottom: 4px;
}

/* Row of filter dropdowns (genre, vibe, etc.).
   Aligns them horizontally with equal spacing and a clean font. */
.filters-row {
  margin-top: 4px;
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: center;
  color: #ffffff;
  font-size: 14px;
}

/* Basic style for filter dropdowns.
   Keeps the comic look with border, shadow and a hover highlight. */
.filter-select {
  padding: 6px 10px;
  border-radius: 4px;
  border: 2px solid #000;
  background: #ffffff;
  font-family: system-ui;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);
  cursor: pointer;
}

.filter-select:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 #ff1b1b;
  background: #ff1b1b;
  color: #000;
}

/* Grid that holds all search result cards.
   Uses auto-fill to create responsive columns up to a max width. */
#results {
  margin-top: 30px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
}

/* Individual anime result card.
   A clickable comic panel with border, shadow and hover lift effect. */
.result-card {
  background: rgba(255, 255, 255, 0.95);
  border: 3px solid #000;
  border-radius: 6px;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.8);
  padding: 20px;
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.result-card:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 #ff1b1b;
}

/* Wrapper that forces all thumbnails into the same 3:2 ratio.
   Keeps grid neat even when images have different original sizes. */
.result-image-wrapper {
  width: 100%;
  aspect-ratio: 3 / 2;
  border: 3px solid #000;
  border-radius: 4px;
  overflow: hidden;
}

/* Card image that fills the wrapper.
   Uses object-fit: cover so the image crops nicely without distortion. */
.result-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Title text under the image.
   Allows long titles to wrap over several lines instead of being cut off. */
.result-title {
  margin-top: 8px;
  font-size: 14px;
  font-weight: 700;
  color: #111;
  text-align: center;

  white-space: normal;
  overflow-wrap: break-word;
  word-break: break-word;
}

/* ============================================================
   MODAL POPUP
   Full anime details, left/right layout, favorite button
   ------------------------------------------------------------
   These styles control the full-screen overlay and the popup box
   that shows extended information about a selected anime.
   ============================================================ */

/* Dark overlay that covers the entire screen when the modal is open.
   Uses flexbox to center the popup content. */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

/* Utility class to toggle the modal on.
   When applied, it makes the modal visible and flexed. */
.modal.is-open {
  display: flex;
}

/* Main white popup box for detailed content.
   Includes padding, a pop-in animation and a comic hover effect. */
.modal-content {
  background: #ffffff;
  border: 4px solid #000;
  border-radius: 8px;
  width: min(900px, 90vw);
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  position: relative;
  padding: 20px;
  box-sizing: border-box;

  animation: popIn 0.2s ease-out;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

/* Hover effect for the modal box.
   Slightly tilts and offsets the panel with a bold red shadow. */
.modal-content:hover {
  transform: translate(-2px, -2px) rotate(-2deg);
  box-shadow: 10px 10px 0 #ff1b1b;
}

/* Active state when the modal is clicked.
   Resets the movement to make it feel like a pressed card. */
.modal-content:active {
  transform: translate(0, 0) rotate(0deg);
  box-shadow: 4px 4px 0 #660000;
}

/* Pop-in animation when the modal appears.
   Fades from 90% size and 0 opacity to full size and full opacity. */
@keyframes popIn {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Two-column grid inside the modal.
   Left column holds image and core info, right column holds the synopsis. */
.modal-layout {
  display: grid;
  grid-template-columns: auto 1fr;
  column-gap: 20px;
  align-items: stretch;
  flex: 1;
}

/* Left column stack: poster, title, badges and favorite button.
   Uses gap to handle spacing instead of manual margins. */
.modal-left {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 10px 0;
  box-sizing: border-box;
}

/* Poster image inside the modal.
   Fixed size with a thick border and strong shadow to match the comic style. */
.modal-image {
  width: 240px;
  max-width: 35vw;
  border: 4px solid #000;
  border-radius: 6px;
  box-shadow: 4px 4px 0 #000;
}

/* Modal title above the basic info.
   Allows long titles to wrap and keeps a comfortable line-height. */
.modal-title {
  font-size: 22px;
  color: red;
  font-weight: 800;
  text-align: left;
  margin: 0;

  white-space: normal;
  overflow-wrap: break-word;
  word-break: break-word;

  line-height: 1.2;
  max-width: 90%;
  margin-left: auto;
  margin-right: auto;
}

/* Small info tag (for example, type, episodes, status).
   Styled like a comic label with a slight rotation. */
.modal-info {
  font-size: 13px;
  padding: 6px 10px;
  border: 3px solid #000;
  border-radius: 6px;
  background: #fff;
  color: #000;
  width: fit-content;
  box-shadow: 3px 3px 0 #000;
  transform: rotate(-1deg);
  margin: 0;
}

/* Add-to-watchlist button anchored at the bottom of the left column.
   Uses the same comic button language with a slight rotation and hover lift. */
.modal-favorite-btn {
  padding: 8px 14px;
  border: 3px solid #000;
  border-radius: 6px;
  background: #ffffff;
  color: #000;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  width: fit-content;
  box-shadow: 3px 3px 0 #000;
  transform: rotate(-1deg);
  transition: transform 0.15s ease, box-shadow 0.15s ease;

  margin-top: auto;
  margin-bottom: 0;
  align-self: flex-start;
}

.modal-favorite-btn:hover {
  transform: translate(-2px, -2px) rotate(-1deg);
  box-shadow: 5px 5px 0 #ff1b1b;
}

.modal-favorite-btn:active {
  transform: translate(0) rotate(-1deg);
  box-shadow: 1px 1px 0 #660000;
}

/* Right column of the modal layout.
   Provides padding to separate the synopsis from the left content. */
.modal-right {
  width: 90%;
  padding: 10px 0 0 10px;
}

/* Scrollable synopsis box.
   Uses a comic-style border, light background and a slight tilt. */
.modal-synopsis {
  font-size: 14px;
  color: #000;
  line-height: 1.45;
  background: #fff;
  border: 3px solid #000;
  border-radius: 6px;
  padding: 10px;
  box-shadow: 3px 3px 0 #000;
  transform: rotate(1deg);
  max-height: 50vh;
  overflow-y: auto;
}

/* Circular close button in the top-right corner of the modal.
   Bright red with a strong shadow to make it easy to see. */
.modal-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  border: 3px solid #000;
  border-radius: 50%;
  background: #ff1b1b;
  color: #000;
  cursor: pointer;
  box-shadow: 3px 3px 0 #000;
  transition: transform 0.15s ease;
}

.modal-close:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 #000;
}

/* ============================================================
   COMIC-STYLE TOAST POPUP
   Temporary feedback messages (for example, added to watchlist)
   ------------------------------------------------------------
   This toast appears briefly in the center of the screen to
   confirm actions without sending the user to another page.
   ============================================================ */

.toast {
  position: fixed;
  bottom: 50%;
  left: 50%;
  transform: translateX(-50%) scale(0.9);
  padding: 20px 30px;
  background: #ffffff;
  border: 3px solid #000;
  border-radius: 6px;
  font-size: 20px;
  font-weight: 700;
  color: #000;
  box-shadow: 5px 5px 0 #ff1b1b;
  opacity: 0;
  pointer-events: none;
  z-index: 9999;
  transition:
    opacity 0.3s ease,
    transform 0.3s ease;
}

/* Visible state for the toast.
   Scales it slightly and applies a tiny rotation for a playful feel. */
.toast.show {
  opacity: 1;
  transform: translateX(-50%) scale(1) rotate(-1deg);
}

/* ============================================================
   WATCHLIST PAGE STYLES
   Curved text header, empty state, responsive grid
   ------------------------------------------------------------
   These styles handle the dedicated watchlist page: the curved
   SVG header, empty-state with video, and the saved anime grid.
   ============================================================ */

/* Container for the watchlist header.
   Centers both the main title and the curved text decoration. */
.watchlist-header {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Watchlist main title.
   Uses a small negative top margin to pull it closer to the top. */
.watchlist-main-title {
  margin: 50px 0 8px 0;
  text-align: center;
}

/* Wrapper that centers the curved SVG text around the header.
   Uses pointer-events: none so it does not block interactions. */
.circle-text-wrapper {
  position: absolute;
  top: 250px;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  pointer-events: none;
}

/* SVG element that contains the curved text path.
   Its size controls the overall curve. */
.circle-text {
  width: 350px;
  height: 220px;
}

/* Dynamic curved text displayed when the watchlist is empty.
   It gently breathes and can react to hover states for extra feedback. */
.curved-no-saved {
  font-family: futura, system-ui, sans-serif;
  font-size: 30px;
  font-weight: 700;
  fill: #ffffff;
  letter-spacing: 3px;
  transform-origin: 50% 50%;
  transition: transform 0.2s ease, fill 0.2s ease;
  animation: curvedIdle 4s ease-in-out infinite;
}

/* Stronger state applied when the video or wrapper is hovered.
   Scales up the text and slightly rotates it while turning it red. */
.curved-no-saved.is-hovered {
  fill: #ff1b1b;
  transform: scale(2) rotate(-2deg);
}

/* Idle breathing animation for the curved text.
   Repeats the smooth scaling to make the page feel alive. */
@keyframes curvedIdle {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

/* Column layout for the empty-state content.
   Aligns the crying video, text and start button with some spacing. */
.watchlist-empty-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  margin-top: 130px;
}

/* Styling for the crying video element.
   Rounds it into a pill/circle shape and adds a comic shadow. */
.empty-video {
  width: 300px;
  max-width: 90vw;
  border-radius: 1000px;
  box-shadow: 4px 4px 0 #000;
  overflow: hidden;
}

/* Wrapper for the "start exploring" button under the video.
   Adds spacing above the main call-to-action. */
.watchlist-start-btn {
  margin-top: 20px;
}

/* Grid layout for saved watchlist items.
   Mirrors the search results grid to keep the visual language consistent. */
.watchlist-grid {
  margin-top: 100px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
  max-width: 1100px;
  margin-left: auto;
  margin-right: auto;
  justify-items: center;
}

/* Remove-from-watchlist button under each saved card.
   Uses the same comic button style with a hover lift to signal interactivity. */
.remove-btn {
  margin-top: 10px;
  padding: 6px 12px;
  border: 3px solid #000;
  background: #fff;
  color: #000;
  border-radius: 6px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 3px 3px 0 #000;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.remove-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 #ff1b1b;
}
